<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scholarship Registration Form</title>
     <meta property="og:title" content="Atu Foundation">
        <meta property="og:description" content="Join hands with us as we extend the helping hands to our communities.">
        <meta property="og:image" content="img/mrsatu.jpg">
        <meta property="og:url" content="https://chimaobiatufoundation.org">

    <!-- Favicon -->
    <link href="img/icon-3.png" rel="icon"><style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
        }
        form {
            display: grid;
            gap: 15px;
        }
        label {
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        .attestation {
            margin-top: 30px;
            border-top: 2px solid #333;
            padding-top: 20px;
        }
       
    </style>
</head>
<body>
    <div class="container">
        <h3 style="color: #45a049; text-align: center;">Sam Atu Foundation 2024 SSCE Scholarship Registration Form</h3>  <form id="scholarshipForm">
            <label for="surname">Surname *</label>
            <input type="text" id="surname" name="surname" required>

            <label for="firstName">First Name *</label>
            <input type="text" id="firstName" name="firstName" required>

            <label for="phone">Phone Number *</label>
            <input type="text" id="phone" name="phone" required>

            <label for="email">Email *</label>
            <input type="email" id="email" name="email" required>

            <label for="address">Address *</label>
            <input type="text" id="address" name="address" required>

            <label for="school">School *</label>
            <select id="school" name="school" required>
                <option value="">Select a School</option>
                <option value="School 1">School 1</option>
                <option value="School 2">School 2</option>
                <option value="School 3">School 3</option>
                <option value="School 4">School 4</option>
                <option value="School 5">School 5</option>
            </select>

            <label for="gender">Gender *</label>
            <select id="gender" name="gender" required>
                <option value="">Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select>

            <label for="dob">Date of Birth *</label>
            <input type="date" id="dob" name="dob" required>
            
            <label for="lga">Local Government Area *</label>
            <input type="text" id="lga" name="lga" required>

            <label for="ward">Ward *</label>
            <input type="text" id="ward" name="ward" required>

            <button type="submit" id="submitBtn">Submit and Generate Form</button>
        </form>

        <div id="generatedForm" style="display:none;">
            <h2>Scholarship Application Form</h2>
            <p><strong>Surname:</strong> <span id="printSurname"></span></p>
            <p><strong>First Name:</strong> <span id="printFirstName"></span></p>
            <p><strong>Phone Number:</strong> <span id="printPhone"></span></p>
            <p><strong>Email:</strong> <span id="printEmail"></span></p>
            <p><strong>Address:</strong> <span id="printAddress"></span></p>
            <p><strong>School:</strong> <span id="printSchool"></span></p>
            <p><strong>Gender:</strong> <span id="printGender"></span></p>
            <p><strong>Date of Birth:</strong> <span id="printdob"></span></p>
            <p><strong>LGA:</strong> <span id="printLga"></span></p>
            <p><strong>Ward:</strong> <span id="printWard"></span></p>

            <div class="attestation">
                <h3>Principal's Attestation</h3>
                <p>I hereby attest that the above-named student is currently enrolled in our school and the information provided is accurate to the best of my knowledge.</p>
                   <p style="line-height: 3;">
                        <strong>Principal's Name: -----------------------------------------------------------------------------------------</strong><br>
                        <strong>Sig/Stamp: ------------------------------------------------------------------------------------------------</strong><br>
                        <strong>Date: -----------------------------------------------------------------------------------------------------</strong><br>
                      </p> 
                  </p>
            </div>

            <div class="no-print" style="margin-top: 20px;">
                <button type="button" id="printBtn">Print Form</button>
                <button type="button" id="downloadBtn">Download Form</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
        function handleFormSubmit(event) {
            event.preventDefault();
            const form = event.target;
            const data = new FormData(form);

            // Send data to Google Sheet
            fetch('https://script.google.com/macros/s/AKfycbwjjH-U1QVcfgOzPNz7bxTDPlz0J0kk6JqgzEI-wcW28uM6o2ItGaUBMjYhS4WOqI0G/exec', {
                method: 'POST',
                body: data
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                alert('Your Registration is submitted successfully, click OK to print or download your form!');

                // Populate the generated form with user data
                document.getElementById('printSurname').textContent = document.getElementById('surname').value;
                document.getElementById('printFirstName').textContent = document.getElementById('firstName').value;
                document.getElementById('printPhone').textContent = document.getElementById('phone').value;
                document.getElementById('printEmail').textContent = document.getElementById('email').value;
                document.getElementById('printAddress').textContent = document.getElementById('address').value;
                document.getElementById('printSchool').textContent = document.getElementById('school').value;
                document.getElementById('printGender').textContent = document.getElementById('gender').value;
                document.getElementById('printdob').textContent = document.getElementById('dob').value;
                document.getElementById('printLga').textContent = document.getElementById('lga').value;
                document.getElementById('printWard').textContent = document.getElementById('ward').value;

                // Display the generated form and hide the original form
                document.getElementById('generatedForm').style.display = 'block';
                document.getElementById('scholarshipForm').style.display = 'none';
            })
            .catch((error) => {
                console.error('Error:', error);
                alert('An error occurred. Please try again.');
            });
        }

        // Event listeners
        document.getElementById('scholarshipForm').addEventListener('submit', handleFormSubmit);

        // Function to download form as PDF
        document.getElementById('downloadBtn').addEventListener('click', function() {
            const element = document.getElementById('generatedForm');
            html2pdf().from(element).save('scholarship_application.pdf');
        });

        // Function to print form
        document.getElementById('printBtn').addEventListener('click', function() {
            window.print();
        });
    </script>
</body>
</html>
